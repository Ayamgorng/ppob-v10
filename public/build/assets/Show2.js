import{r as c,j as e,y as f}from"./app.js";import{A as g}from"./AuthenticatedLayout.js";import{C as h}from"./Card.js";import{T as n}from"./TextInput.js";import{r as j,t as d}from"./BaseHelper.js";import{P as v}from"./PrimaryButton.js";import{A as b}from"./Api.js";import"./clsx.js";import"./react-toastify.esm.js";import"./ApplicationLogo.js";import"./transition.js";function T({data:p,product:r}){const[t,x]=c.useState(r),[a,l]=c.useState(!1),o=s=>{let m=s.target.value;switch(s.target.name){case"price":case"commission":const i=parseInt(s.target.value.replaceAll(".",""));m=i>=0?i:m;break}x(i=>({...i,[s.target.name]:m}))},u=async()=>{if(l(!0),await b.put(`/admin/product/${r.id}`,t)){f.get("/admin/product");return}l(!1)};return e.jsxs(g,{data:p,children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-y-5 items-center",children:[e.jsxs("div",{className:"text-2xl dark:text-white",children:["Update Product : ",r.name]}),e.jsxs("div",{className:"text-xl dark:text-white",children:["Selling Price: ",j(t.price+t.commission)]})]}),e.jsxs(h,{className:"grid lg:grid-cols-2 gap-5 md:px-10 p-6",children:[e.jsx(n,{disabled:a,title:"Name",name:"name",value:t.name,onChange:o}),e.jsx(n,{disabled:a,title:"Price",name:"price",value:d(t.price),onChange:o}),e.jsx(n,{disabled:a,title:"Commission",name:"commission",value:d(t.commission),onChange:o})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{disabled:a,loading:a,onClick:()=>u(),children:"Update"})})]})}export{T as default};
