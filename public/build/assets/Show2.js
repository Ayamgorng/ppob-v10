import{r as c,j as e,a as f,y as h}from"./app.js";import{A as j,B as d}from"./AuthenticatedLayout.js";import{C as v}from"./Card.js";import{T as m}from"./TextInput.js";import{r as b,t as p}from"./BaseHelper.js";import{P as y}from"./PrimaryButton.js";import"./clsx.js";import"./ApplicationLogo.js";import"./transition.js";function E({data:x,product:n}){const[t,u]=c.useState(n),[i,l]=c.useState(!1),o=a=>{let s=a.target.value;switch(a.target.name){case"price":case"commission":const r=parseInt(a.target.value.replaceAll(".",""));s=r>=0?r:s;break}u(r=>({...r,[a.target.name]:s}))},g=()=>{l(!0),f.put(`/admin/product/${n.id}`,t).then(a=>{d.success(a.data.message),h.get("/admin/product")}).catch(a=>{var s;d.error((s=a.response.data)==null?void 0:s.message)}).finally(()=>{l(!1)})};return e.jsxs(j,{data:x,children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-y-5 items-center",children:[e.jsxs("div",{className:"text-2xl dark:text-white",children:["Update Product : ",n.name]}),e.jsxs("div",{className:"text-xl dark:text-white",children:["Selling Price: ",b(t.price+t.commission)]})]}),e.jsxs(v,{className:"grid lg:grid-cols-2 gap-5 md:px-10 p-6",children:[e.jsx(m,{disabled:i,title:"Name",name:"name",value:t.name,onChange:o}),e.jsx(m,{disabled:i,title:"Price",name:"price",value:p(t.price),onChange:o}),e.jsx(m,{disabled:i,title:"Commission",name:"commission",value:p(t.commission),onChange:o})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{disabled:i,loading:i,onClick:()=>g(),children:"Update"})})]})}export{E as default};
