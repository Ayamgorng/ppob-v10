import{r as c,j as e,a as g,y as f}from"./app.js";import{A as j,B as d}from"./AuthenticatedLayout.js";import{C as v}from"./Card.js";import{T as m}from"./TextInput.js";import{r as b,t as p}from"./BaseHelper.js";import{P as C}from"./PrimaryButton.js";import"./clsx.js";import"./ApplicationLogo.js";import"./transition.js";function E({data:u,product:n}){const[a,x]=c.useState(n),[i,l]=c.useState(!1),o=t=>{let s=t.target.value;switch(t.target.name){case"price":case"commission":const r=parseInt(t.target.value.replaceAll(".",""));s=r>=0?r:s;break}x(r=>({...r,[t.target.name]:s}))},h=()=>{l(!0),g.put(`/admin/product/${n.id}`,a).then(t=>{d.success(t.data.message),f.get("/admin/product")}).catch(t=>{var s;d.error((s=t.response.data)==null?void 0:s.message)}).finally(()=>{l(!1)})};return e.jsxs(j,{data:u,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-2xl dark:text-white",children:["Update Product : ",n.name]}),e.jsxs("div",{className:"text-xl dark:text-white",children:["Selling Price: ",b(a.price+a.commission)]})]}),e.jsxs(v,{className:"p-8 grid grid-cols-2 gap-5",children:[e.jsx(m,{disabled:i,title:"Name",name:"name",value:a.name,onChange:o}),e.jsx(m,{disabled:i,title:"Price",name:"price",value:p(a.price),onChange:o}),e.jsx(m,{disabled:i,title:"Commission",name:"commission",value:p(a.commission),onChange:o})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{disabled:i,loading:i,onClick:()=>h(),children:"Update"})})]})}export{E as default};
