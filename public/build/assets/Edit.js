import{r as o,j as e,a as w,y as b}from"./app.js";import{A as v}from"./AuthenticatedLayout.js";import{C}from"./Card.js";import{P as I}from"./PrimaryButton.js";import{T as x}from"./TextInput.js";import{I as N}from"./ImagePreview.js";import{B as g}from"./react-toastify.esm.js";import"./clsx.js";import"./ApplicationLogo.js";import"./transition.js";function A({data:f,category:m}){const[n,c]=o.useState(!1),[s,u]=o.useState(m),[i,h]=o.useState(""),j=t=>{h(t.target.files[0])},y=async()=>{var l,d,p;c(!0);const t=new FormData;t.append("_method","PUT"),t.append("name",s.name),t.append("image",i);const a=await w.post(`/admin/category/${m.id}`,t);if((l=a.data)!=null&&l.success){g.success((d=a.data)==null?void 0:d.message),b.get("/admin/category");return}else g.error((p=a.data)==null?void 0:p.message);c(!1)};let r="";switch(typeof i){case"object":r=URL.createObjectURL(i);break;case"string":s.icon&&(r=`/images/category/${s.icon}`);break}return e.jsx(v,{data:f,title:"Update Category",children:e.jsxs(C,{className:"flex flex-col md:px-10 p-6 gap-y-3",children:[e.jsx("div",{className:"text-2xl dark:text-white mb-2",children:"Edit"}),e.jsx(x,{title:"Name",value:s.name,onChange:t=>u(a=>({...a,name:t.target.value})),className:"max-w-xl"}),e.jsx(x,{title:"Icon",type:"file",accept:"image/*",onChange:j,className:"max-w-xl"}),e.jsx("div",{id:"galleryID",children:r&&e.jsx(N,{src:r,height:300})}),e.jsx("div",{className:"text-right",children:e.jsx(I,{onClick:()=>y(),disabled:n,loading:n,children:"Update"})})]})})}export{A as default};
