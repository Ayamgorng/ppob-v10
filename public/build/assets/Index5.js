import{r as s,t as v,j as t,a as G,y as O}from"./app.js";import{C as j}from"./Card.js";import{I as K}from"./ImagePreview.js";import{P as R}from"./PrimaryButton.js";import{T as z,a as Y,p as H,S as Z}from"./SelectInput.js";import{T as b}from"./TextInput.js";import{A as q,B as $}from"./AuthenticatedLayout.js";import{c as J}from"./clsx.js";import{U as P,y as T,l as Q,C as _,o as y,p as V,x as W}from"./transition.js";import{I as E,f as X,s as ee,r as te,o as N}from"./keyboard.js";import{G as ae,w as re}from"./description.js";import"./ApplicationLogo.js";let D=s.createContext(null);function L(){let d=s.useContext(D);if(d===null){let i=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(i,L),i}return d}function ne(){let[d,i]=s.useState([]);return[d.length>0?d.join(" "):void 0,s.useMemo(()=>function(e){let o=y(c=>(i(n=>[...n,c]),()=>i(n=>{let h=n.slice(),u=h.indexOf(c);return u!==-1&&h.splice(u,1),h}))),r=s.useMemo(()=>({register:o,slot:e.slot,name:e.name,props:e.props}),[o,e.slot,e.name,e.props]);return v.createElement(D.Provider,{value:r},e.children)},[i])]}let le="label";function se(d,i){let e=E(),{id:o=`headlessui-label-${e}`,passive:r=!1,...c}=d,n=L(),h=T(i);Q(()=>n.register(o),[o,n.register]);let u={ref:h,...n.props,id:o};return r&&("onClick"in u&&(delete u.htmlFor,delete u.onClick),"onClick"in c&&delete c.onClick),_({ourProps:u,theirProps:c,slot:n.slot||{},defaultTag:le,name:n.name||"Label"})}let ie=P(se),oe=Object.assign(ie,{}),w=s.createContext(null);w.displayName="GroupContext";let ce=s.Fragment;function de(d){var i;let[e,o]=s.useState(null),[r,c]=ne(),[n,h]=re(),u=s.useMemo(()=>({switch:e,setSwitch:o,labelledby:r,describedby:n}),[e,o,r,n]),f={},k=d;return v.createElement(h,{name:"Switch.Description"},v.createElement(c,{name:"Switch.Label",props:{htmlFor:(i=u.switch)==null?void 0:i.id,onClick(p){e&&(p.currentTarget.tagName==="LABEL"&&p.preventDefault(),e.click(),e.focus({preventScroll:!0}))}}},v.createElement(w.Provider,{value:u},_({ourProps:f,theirProps:k,defaultTag:ce,name:"Switch.Group"}))))}let ue="button";function pe(d,i){let e=E(),{id:o=`headlessui-switch-${e}`,checked:r,defaultChecked:c=!1,onChange:n,name:h,value:u,form:f,...k}=d,p=s.useContext(w),g=s.useRef(null),a=T(g,i,p===null?null:p.setSwitch),[l,x]=z(r,n,c),C=y(()=>x==null?void 0:x(!l)),I=y(m=>{if(te(m.currentTarget))return m.preventDefault();m.preventDefault(),C()}),F=y(m=>{m.key===N.Space?(m.preventDefault(),C()):m.key===N.Enter&&H(m.currentTarget)}),A=y(m=>m.preventDefault()),B=s.useMemo(()=>({checked:l}),[l]),M={id:o,ref:a,role:"switch",type:Y(d,g),tabIndex:0,"aria-checked":l,"aria-labelledby":p==null?void 0:p.labelledby,"aria-describedby":p==null?void 0:p.describedby,onClick:I,onKeyUp:F,onKeyPress:A},U=V();return s.useEffect(()=>{var m;let S=(m=g.current)==null?void 0:m.closest("form");S&&c!==void 0&&U.addEventListener(S,"reset",()=>{x(c)})},[g,x]),v.createElement(v.Fragment,null,h!=null&&l&&v.createElement(X,{features:ee.Hidden,...W({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:f,checked:l,name:h,value:u})}),_({ourProps:M,theirProps:k,slot:B,defaultTag:ue,name:"Switch"}))}let me=P(pe),he=de,fe=Object.assign(me,{Group:he,Label:oe,Description:ae});function Ne({data:d,model:i}){const[e,o]=s.useState(i),[r,c]=s.useState(!1),[n,h]=s.useState(""),u=a=>{h(a.target.files[0])},f=a=>{o(l=>({...l,[a.target.name]:a.target.value}))},k=()=>{c(!0);const a=new FormData;a.append("_method","PUT"),a.append("image",n),a.append("account_number",e.account_number),a.append("bank",e.bank),a.append("api_username",e.api_username),a.append("api_dev_key",e.api_dev_key),a.append("api_prod_key",e.api_prod_key),a.append("api_secret",e.api_secret),a.append("use_prod",`${e.use_prod}`),G.post("/admin/setting",a).then(l=>{var x;$.success((x=l.data)==null?void 0:x.message),O.reload()}).catch(l=>{var x;$.error((x=l.response.data)==null?void 0:x.message)}).finally(()=>{c(!1)})};let p="";switch(typeof n){case"object":p=URL.createObjectURL(n);break;case"string":e.logo&&(p=`/images/${e.logo}`);break}const g=!e.status;return t.jsxs(q,{data:d,title:"Setting",children:[t.jsxs("div",{className:"flex justify-end gap-5",children:[t.jsx("span",{className:J("dark:text-white"),children:"Maintenance Mode"}),t.jsx(fe,{checked:g,onChange:a=>o(l=>({...l,status:a?1:0})),className:`${g?"bg-blue-600":"bg-gray-700"} relative inline-flex h-6 w-11 items-center rounded-full`,children:t.jsx("span",{className:`${g?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]}),t.jsx(j,{className:"p-8",children:t.jsxs("div",{className:"flex flex-col gap-y-5 w-1/3",children:[t.jsx("div",{className:"text-2xl dark:text-white",children:"App Logo"}),t.jsx(b,{type:"file",accept:"image/png",onChange:u}),t.jsx("div",{id:"galleryID",children:p&&t.jsx(K,{src:p,height:150})})]})}),t.jsxs(j,{className:"p-8 flex flex-col gap-y-5",children:[t.jsx("div",{className:"text-2xl dark:text-white",children:"Bank Transfer"}),t.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[t.jsx(b,{disabled:r,title:"Bank Name",name:"bank",value:e.bank,onChange:f}),t.jsx(b,{disabled:r,title:"Account Number",name:"account_number",value:e.account_number,onChange:f})]})]}),t.jsxs(j,{className:"p-8 flex flex-col gap-y-5",children:[t.jsx("div",{className:"text-2xl dark:text-white",children:"API Digiflazz"}),t.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[t.jsx(Z,{title:"Mode",disabled:r,value:e.use_prod,data:[{id:0,name:"Development"},{id:1,name:"Production"}],onChange:a=>o(l=>({...l,use_prod:a?1:0})),widthClass:"w-full"}),t.jsx(b,{disabled:r,title:"Username",name:"api_username",value:e.api_username,onChange:f}),t.jsx(b,{disabled:r,title:"Development Key",name:"api_dev_key",value:e.api_dev_key,onChange:f}),t.jsx(b,{disabled:r,title:"Production Key",name:"api_prod_key",value:e.api_prod_key,onChange:f}),t.jsx(b,{disabled:r,title:"Secret Number",name:"api_secret",value:e.api_secret,onChange:f})]})]}),t.jsx("div",{className:"text-right",children:t.jsx(R,{disabled:r,loading:r,onClick:()=>k(),children:"Update"})})]})}export{Ne as default};
