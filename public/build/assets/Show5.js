import{r as p,j as e,a as j,y as b}from"./app.js";import{A as N}from"./AuthenticatedLayout.js";import{C as n}from"./Card.js";import{T as v}from"./transaction.js";import{c as l}from"./clsx.js";import{l as o,f,r as w}from"./BaseHelper.js";import"./react-toastify.esm.js";import"./ApplicationLogo.js";import"./transition.js";const a=({label:r,value:s,align:i="text-left"})=>e.jsxs("div",{className:l("p-2",i),children:[e.jsx("div",{className:"dark:text-white leading-8",children:r}),e.jsx("div",{className:"text-xl font-semibold dark:text-white inline-flex",children:s})]}),h=({label:r,loading:s,className:i="",...t})=>e.jsx("button",{disabled:s,...t,className:l("w-full p-2 rounded-xl text-center text-white transition-all duration-300",i),children:s?"Loading...":r});function A({data:r,transaction:s,category:i}){const[t,x]=p.useState(!1),c=o[s.status],m=async d=>{x(!0),await j.put(`/transaction/postpaid/${s.id}`,{type:d}),b.reload(),x(!1)};return e.jsxs(N,{data:r,children:[e.jsx("div",{className:"text-3xl dark:text-white",children:"History"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-x-10 gap-y-5",children:[e.jsxs(n,{className:"px-4 py-3",children:[e.jsx(a,{label:i.name,value:s.product_name}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(a,{label:"Order ID",value:s.id}),e.jsxs("div",{className:"p-3 text-right",children:[e.jsx("div",{className:"dark:text-white",children:"Date"}),e.jsx("div",{className:"dark:text-white",children:f(s.created_at)})]})]}),e.jsx(a,{label:"Number/ID Customer",value:s.mtrpln?s.mtrpln:s.target}),e.jsx(a,{label:"Serial Number / Token / Security Code",value:s.token||"-"}),e.jsx(a,{label:"Price",value:w(s.total)}),e.jsx(a,{label:"Status",value:e.jsx("div",{className:l("px-4 py-2 rounded-xl text-white",c.color),children:c.label})}),e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"dark:text-white",children:"Note"}),e.jsx("div",{className:"dark:text-white",children:s.note})]}),s.status===v.waiting_payment&&e.jsxs("div",{className:"p-3 mt-5 flex gap-x-8 justify-between",children:[e.jsx(h,{label:"Cancel",loading:t,onClick:()=>m(0),className:l("bg-red-500",!t&&"hover:bg-red-600")}),e.jsx(h,{label:"Pay Now",loading:t,onClick:()=>m(1),className:l("bg-blue-500",!t&&"hover:bg-blue-600")})]})]}),e.jsxs(n,{className:"px-4 py-3",children:[e.jsx("div",{className:"dark:text-white mb-10 text-xl",children:"Transaction Status Note"}),e.jsx("table",{children:e.jsx("tbody",{children:o.map((d,u)=>e.jsxs("tr",{children:[e.jsx("td",{className:"pb-3",children:e.jsx("div",{className:l("px-4 py-2 rounded-xl text-white text-center",d.color),children:d.label})}),e.jsx("td",{className:"pb-3 pl-10 dark:text-white",children:d.desc})]},u))})})]})]})]})}export{A as default};
